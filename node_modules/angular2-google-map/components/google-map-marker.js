/**
 * angular2-google-map - Angular2 components for Google Maps
 * @author Stanislav Kiryukhin <korsar.zn@gmail.com>
 * @version v0.1.7
 * @link 
 * @license MIT
 */
"use strict";var __decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=3>c?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(3>c?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(k,v):void 0},core_1=require("angular2/core"),maps_manager_1=require("../services/maps-manager"),GoogleMapMakerDirective=function(){function GoogleMapMakerDirective(_mapsManager){var _this=this;this._mapsManager=_mapsManager,this._mapComponent=null,this.click=new core_1.EventEmitter,this.dblclick=new core_1.EventEmitter,this.rightclick=new core_1.EventEmitter,this.position_changed=new core_1.EventEmitter,this.icon_changed=new core_1.EventEmitter,this.title_changed=new core_1.EventEmitter,this.visible_changed=new core_1.EventEmitter,this._marker=new Promise(function(resolve){return _this._markerResolver=resolve})}return Object.defineProperty(GoogleMapMakerDirective.prototype,"position",{set:function(value){this._marker.then(function(marker){marker.setPosition({lat:value.lat||value.latitude,lng:value.lng||value.longitude})})},enumerable:!0,configurable:!0}),Object.defineProperty(GoogleMapMakerDirective.prototype,"clickable",{set:function(mode){this._marker.then(function(marker){return marker.setClickable(mode)})},enumerable:!0,configurable:!0}),Object.defineProperty(GoogleMapMakerDirective.prototype,"icon",{set:function(value){this._marker.then(function(marker){return marker.setIcon(value)})},enumerable:!0,configurable:!0}),Object.defineProperty(GoogleMapMakerDirective.prototype,"opacity",{set:function(value){this._marker.then(function(marker){return marker.setOpacity(value)})},enumerable:!0,configurable:!0}),Object.defineProperty(GoogleMapMakerDirective.prototype,"title",{set:function(value){this._marker.then(function(marker){return marker.setTitle(value)})},enumerable:!0,configurable:!0}),Object.defineProperty(GoogleMapMakerDirective.prototype,"visible",{set:function(mode){this._marker.then(function(marker){return marker.setVisible(mode)})},enumerable:!0,configurable:!0}),Object.defineProperty(GoogleMapMakerDirective.prototype,"zIndex",{set:function(value){this._marker.then(function(marker){return marker.setZIndex(value)})},enumerable:!0,configurable:!0}),Object.defineProperty(GoogleMapMakerDirective.prototype,"animation",{set:function(value){this._marker.then(function(marker){return marker.setAnimation(value)})},enumerable:!0,configurable:!0}),Object.defineProperty(GoogleMapMakerDirective.prototype,"delay",{set:function(value){this._delay=value},enumerable:!0,configurable:!0}),GoogleMapMakerDirective.prototype.hasMapComponent=function(){return!!this._mapComponent},GoogleMapMakerDirective.prototype.setMapComponent=function(component,map){var _this=this;this._mapComponent=component,this._marker.then(function(marker){return setTimeout(function(){return marker.setMap(map)},_this._delay||0)})},GoogleMapMakerDirective.prototype.ngOnInit=function(){var _this=this;this._mapsManager.createMarker().then(function(marker){_this.bindEvents(marker),_this._markerResolver(marker)})},GoogleMapMakerDirective.prototype.ngOnDestroy=function(){this._marker.then(function(marker){google.maps.event.clearInstanceListeners(marker),marker.setMap(null)})},GoogleMapMakerDirective.prototype.bindEvents=function(marker){var _this=this;marker.addListener("click",function(e){return _this.click.emit(e)}),marker.addListener("dblclick",function(e){return _this.dblclick.emit(e)}),marker.addListener("rightclick",function(e){return _this.rightclick.emit(e)}),marker.addListener("position_changed",function(e){return _this.position_changed.emit(e)}),marker.addListener("title_changed",function(e){return _this.title_changed.emit(e)}),marker.addListener("icon_changed",function(e){return _this.icon_changed.emit(e)}),marker.addListener("visible_changed",function(e){return _this.visible_changed.emit(e)})},__decorate([core_1.Output(),__metadata("design:type",core_1.EventEmitter)],GoogleMapMakerDirective.prototype,"click",void 0),__decorate([core_1.Output(),__metadata("design:type",core_1.EventEmitter)],GoogleMapMakerDirective.prototype,"dblclick",void 0),__decorate([core_1.Output(),__metadata("design:type",core_1.EventEmitter)],GoogleMapMakerDirective.prototype,"rightclick",void 0),__decorate([core_1.Output(),__metadata("design:type",core_1.EventEmitter)],GoogleMapMakerDirective.prototype,"position_changed",void 0),__decorate([core_1.Output(),__metadata("design:type",core_1.EventEmitter)],GoogleMapMakerDirective.prototype,"icon_changed",void 0),__decorate([core_1.Output(),__metadata("design:type",core_1.EventEmitter)],GoogleMapMakerDirective.prototype,"title_changed",void 0),__decorate([core_1.Output(),__metadata("design:type",core_1.EventEmitter)],GoogleMapMakerDirective.prototype,"visible_changed",void 0),__decorate([core_1.Input(),__metadata("design:type",Object),__metadata("design:paramtypes",[Object])],GoogleMapMakerDirective.prototype,"position",null),__decorate([core_1.Input(),__metadata("design:type",Boolean),__metadata("design:paramtypes",[Boolean])],GoogleMapMakerDirective.prototype,"clickable",null),__decorate([core_1.Input(),__metadata("design:type",Object),__metadata("design:paramtypes",[Object])],GoogleMapMakerDirective.prototype,"icon",null),__decorate([core_1.Input(),__metadata("design:type",Number),__metadata("design:paramtypes",[Number])],GoogleMapMakerDirective.prototype,"opacity",null),__decorate([core_1.Input(),__metadata("design:type",String),__metadata("design:paramtypes",[String])],GoogleMapMakerDirective.prototype,"title",null),__decorate([core_1.Input(),__metadata("design:type",Boolean),__metadata("design:paramtypes",[Boolean])],GoogleMapMakerDirective.prototype,"visible",null),__decorate([core_1.Input(),__metadata("design:type",Number),__metadata("design:paramtypes",[Number])],GoogleMapMakerDirective.prototype,"zIndex",null),__decorate([core_1.Input(),__metadata("design:type",Number),__metadata("design:paramtypes",[Number])],GoogleMapMakerDirective.prototype,"animation",null),__decorate([core_1.Input(),__metadata("design:type",Number),__metadata("design:paramtypes",[Number])],GoogleMapMakerDirective.prototype,"delay",null),GoogleMapMakerDirective=__decorate([core_1.Directive({selector:"google-map-marker"}),__metadata("design:paramtypes",[maps_manager_1.MapsManager])],GoogleMapMakerDirective)}();exports.GoogleMapMakerDirective=GoogleMapMakerDirective;
//# sourceMappingURL=google-map-marker.js.map
