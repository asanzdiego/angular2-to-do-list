/**
 * angular2-google-map - Angular2 components for Google Maps
 * @author Stanislav Kiryukhin <korsar.zn@gmail.com>
 * @version v0.1.7
 * @link 
 * @license MIT
 */
"use strict";var __decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=3>c?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(3>c?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(k,v):void 0},__param=this&&this.__param||function(paramIndex,decorator){return function(target,key){decorator(target,key,paramIndex)}},core_1=require("angular2/core"),google_map_marker_1=require("./google-map-marker"),maps_manager_1=require("../services/maps-manager"),GoogleMapComponent=function(){function GoogleMapComponent(_name,_elem,_mapsManager){var _this=this;this._name=_name,this._elem=_elem,this._mapsManager=_mapsManager,this._mapBackgroundColor=null,this._id=GoogleMapComponent.counters++,this._map=new Promise(function(resolve){return _this._mapResolver=resolve})}return GoogleMapComponent.prototype.getMap=function(){return this._map},Object.defineProperty(GoogleMapComponent.prototype,"backgroundColor",{set:function(value){return this._mapBackgroundColor?void console.warn('Option "backgroundColor" can only be set when the map is initialized'):void(this._mapBackgroundColor=value)},enumerable:!0,configurable:!0}),Object.defineProperty(GoogleMapComponent.prototype,"center",{set:function(value){this._map.then(function(map){map.setCenter({lat:value.lat||value.latitude,lng:value.lng||value.longitude})})},enumerable:!0,configurable:!0}),Object.defineProperty(GoogleMapComponent.prototype,"disableDoubleClickZoom",{set:function(mode){this._map.then(function(map){return map.setOptions({disableDoubleClickZoom:mode})})},enumerable:!0,configurable:!0}),Object.defineProperty(GoogleMapComponent.prototype,"draggable",{set:function(mode){this._map.then(function(map){return map.setOptions({draggable:mode})})},enumerable:!0,configurable:!0}),Object.defineProperty(GoogleMapComponent.prototype,"keyboardShortcuts",{set:function(mode){this._map.then(function(map){return map.setOptions({keyboardShortcuts:mode})})},enumerable:!0,configurable:!0}),Object.defineProperty(GoogleMapComponent.prototype,"scrollwheel",{set:function(mode){this._map.then(function(map){return map.setOptions({scrollwheel:mode})})},enumerable:!0,configurable:!0}),Object.defineProperty(GoogleMapComponent.prototype,"zoom",{set:function(value){this._map.then(function(map){return map.setZoom(value)})},enumerable:!0,configurable:!0}),Object.defineProperty(GoogleMapComponent.prototype,"minZoom",{set:function(value){this._map.then(function(map){return map.setOptions({minZoom:value})})},enumerable:!0,configurable:!0}),Object.defineProperty(GoogleMapComponent.prototype,"maxZoom",{set:function(value){this._map.then(function(map){return map.setOptions({maxZoom:value})})},enumerable:!0,configurable:!0}),Object.defineProperty(GoogleMapComponent.prototype,"disableDefaultUI",{set:function(mode){this._map.then(function(map){return map.setOptions({disableDefaultUI:mode})})},enumerable:!0,configurable:!0}),Object.defineProperty(GoogleMapComponent.prototype,"mapTypeControl",{set:function(mode){this._map.then(function(map){return map.setOptions({mapTypeControl:mode})})},enumerable:!0,configurable:!0}),Object.defineProperty(GoogleMapComponent.prototype,"rotateControl",{set:function(mode){this._map.then(function(map){return map.setOptions({rotateControl:mode})})},enumerable:!0,configurable:!0}),Object.defineProperty(GoogleMapComponent.prototype,"scaleControl",{set:function(mode){this._map.then(function(map){return map.setOptions({scaleControl:mode})})},enumerable:!0,configurable:!0}),Object.defineProperty(GoogleMapComponent.prototype,"streetViewControl",{set:function(mode){this._map.then(function(map){return map.setOptions({streetViewControl:mode})})},enumerable:!0,configurable:!0}),Object.defineProperty(GoogleMapComponent.prototype,"zoomControl",{set:function(mode){this._map.then(function(map){return map.setOptions({zoomControl:mode})})},enumerable:!0,configurable:!0}),GoogleMapComponent.prototype.ngOnInit=function(){var _this=this;this._mapsManager.createMap(this._elem.nativeElement.querySelector(".sk-google-map-container"),this.getOptions()).then(function(map){_this._mapsManager.addMap(_this.toString(),map),_this._mapResolver(map)})},GoogleMapComponent.prototype.ngOnDestroy=function(){this._mapsManager.removeMap(this._name),this._markersSubscription.unsubscribe()},GoogleMapComponent.prototype.ngAfterContentInit=function(){var _this=this;this._markersSubscription=this._markers.changes.subscribe(function(){return _this.attachMarkersToMap()}),this.attachMarkersToMap()},GoogleMapComponent.prototype.toString=function(){return this._name?this._name:"sk.google-maps-"+this._id},GoogleMapComponent.prototype.attachMarkersToMap=function(){var _this=this;this._map.then(function(map){_this._markers.filter(function(v){return!v.hasMapComponent()}).forEach(function(v){return v.setMapComponent(_this,map)})})},GoogleMapComponent.prototype.getOptions=function(){return{center:{lat:0,lng:0},zoom:8,backgroundColor:this._mapBackgroundColor}},GoogleMapComponent.counters=0,__decorate([core_1.ContentChildren(core_1.forwardRef(function(){return google_map_marker_1.GoogleMapMakerDirective}),{}),__metadata("design:type",core_1.QueryList)],GoogleMapComponent.prototype,"_markers",void 0),__decorate([core_1.Input(),__metadata("design:type",String),__metadata("design:paramtypes",[String])],GoogleMapComponent.prototype,"backgroundColor",null),__decorate([core_1.Input(),__metadata("design:type",Object),__metadata("design:paramtypes",[Object])],GoogleMapComponent.prototype,"center",null),__decorate([core_1.Input(),__metadata("design:type",Boolean),__metadata("design:paramtypes",[Boolean])],GoogleMapComponent.prototype,"disableDoubleClickZoom",null),__decorate([core_1.Input(),__metadata("design:type",Boolean),__metadata("design:paramtypes",[Boolean])],GoogleMapComponent.prototype,"draggable",null),__decorate([core_1.Input(),__metadata("design:type",Boolean),__metadata("design:paramtypes",[Boolean])],GoogleMapComponent.prototype,"keyboardShortcuts",null),__decorate([core_1.Input(),__metadata("design:type",Boolean),__metadata("design:paramtypes",[Boolean])],GoogleMapComponent.prototype,"scrollwheel",null),__decorate([core_1.Input(),__metadata("design:type",Number),__metadata("design:paramtypes",[Number])],GoogleMapComponent.prototype,"zoom",null),__decorate([core_1.Input(),__metadata("design:type",Number),__metadata("design:paramtypes",[Number])],GoogleMapComponent.prototype,"minZoom",null),__decorate([core_1.Input(),__metadata("design:type",Number),__metadata("design:paramtypes",[Number])],GoogleMapComponent.prototype,"maxZoom",null),__decorate([core_1.Input(),__metadata("design:type",Boolean),__metadata("design:paramtypes",[Boolean])],GoogleMapComponent.prototype,"disableDefaultUI",null),__decorate([core_1.Input(),__metadata("design:type",Boolean),__metadata("design:paramtypes",[Boolean])],GoogleMapComponent.prototype,"mapTypeControl",null),__decorate([core_1.Input(),__metadata("design:type",Boolean),__metadata("design:paramtypes",[Boolean])],GoogleMapComponent.prototype,"rotateControl",null),__decorate([core_1.Input(),__metadata("design:type",Boolean),__metadata("design:paramtypes",[Boolean])],GoogleMapComponent.prototype,"scaleControl",null),__decorate([core_1.Input(),__metadata("design:type",Boolean),__metadata("design:paramtypes",[Boolean])],GoogleMapComponent.prototype,"streetViewControl",null),__decorate([core_1.Input(),__metadata("design:type",Boolean),__metadata("design:paramtypes",[Boolean])],GoogleMapComponent.prototype,"zoomControl",null),GoogleMapComponent=__decorate([core_1.Component({selector:"google-map",template:'<div class="sk-google-map-container" style="width: inherit; height: inherit"></div>'}),__param(0,core_1.Attribute("name")),__metadata("design:paramtypes",[String,core_1.ElementRef,maps_manager_1.MapsManager])],GoogleMapComponent)}();exports.GoogleMapComponent=GoogleMapComponent;
//# sourceMappingURL=google-map.js.map
